<div class="main-container">
  <div class="container">
    <div class="title">
      Books
      <span style="font-size: 15px; color: rgb(139, 136, 136);"
        >({{ size }} items)</span
      >
    </div>
    <div class="sort-choice">
      <form>
        <mat-form-field appearance="outline">
          <mat-label>sort by relevance</mat-label>
          <mat-select [(ngModel)]="selectedValue" name="food">
            <mat-option>
              Choose Relevance
            </mat-option>
            <mat-option>
              Price:High To Low
            </mat-option>
            <mat-option>
              Price:Low To High
            </mat-option>
            <mat-option>
              Newest Arrival
            </mat-option>
          </mat-select>
        </mat-form-field>
      </form>
    </div>
  </div>
  <div class="addbook" *ngIf="isSeller">
    <button class="btn-addbook" (click)="openDialog()">ADD BOOK</button>
  </div>
  <div class="list-books">
    <div
      class="getAllNotes"
      *ngFor="let book of books | bookSearch: bookSearch"
      fxLayout="{{ view }}"
      [fxLayoutAlign]="center"
      fxFlexOffset="4"
    >
      <mat-card matTooltip="{{ book.bookDetails }}">
        <mat-card-title
          *ngIf="isSeller"
          (click)="openImageDialog(book.bookId)"
          matTooltip="Update Image"
          ><img
            src="{{ book.bookImage }}"
            style="
              height: 150px;
              width: 120px;
              margin-left: 55px;
              margin-right: 55px;
              padding-top: 20px;
              padding-bottom: 20px;
            "
          />
        </mat-card-title>
        <mat-card-title *ngIf="isUser" matTooltip="Book Image"
          ><img
            src="{{ book.bookImage }}"
            style="
              height: 150px;
              width: 120px;
              margin-left: 55px;
              margin-right: 55px;
              padding-top: 20px;
              padding-bottom: 20px;
            "
          />
        </mat-card-title>

        <mat-card-content
          ><div class="bookname">{{ book.bookName }}</div>
          <div class="authorname">by {{ book.authorName }}</div>
          <div class="price">Rs. {{ book.price }}</div>
          <div class="availablity">Available Books: {{ book.quantity }}</div>
          <div class="cart-buttons" *ngIf="isUser">
            <div>
              <button
                [style.background-color]="toggle ? 'green' : 'red'"
                class="addtobag"
                (click)="addToBag(book.bookId, book.quantity)"
              >
                ADD TO BAG
              </button>
            </div>
            <div><button class="wishlist">WISHLIST</button></div>
          </div>
          <div class="cart-buttons" *ngIf="isSeller">
            <div>
              <button class="addtobag" (click)="deleteBook(book.bookId)">
                DELETE BOOK
              </button>
            </div>
            <div>
              <button class="wishlist" (click)="openDialog2()">
                UPDATE BOOK
              </button>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
